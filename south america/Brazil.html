<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Pie chart (D3.js)</title>
  <link href="https://fonts.googleapis.com/css?family=Lato|Oswald" rel="stylesheet"><link rel="stylesheet" href="./style.css">
  
  
  <style>
    /* Add CSS to style the table */
    table {
      border-collapse: collapse;
      width: 100%;
    }

    table, th, td {
      border: 1px solid black;
    }

    th, td {
      padding: 8px;
      text-align: left;
    }
    

  </style>
</head>

<body>
<!-- partial:index.partial.html -->
<div class="title-holder">
	<h1 class="title">CS6260 Project 3</h1>
	<p class="subtitle">South America Data</p>
  <p class="font">Brazil</p>
</div>
</div>

<div id="chart"></div>

<div class="search-container">
  <input type="text" id="search-input" placeholder="Enter a keyword">
  <button id="search-button">Search</button>
</div>
<table id="data-table">
  <thead>
    <tr>
      <th>Category</th>
      <th>Data</th>
    </tr>
  </thead>
  <tbody>
    <!-- Data will be dynamically populated here -->
  </tbody>
</table>

<footer>
    
</footer>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.min.js'></script><script  src="./Brazil.js"></script>
<script>
  document.getElementById('search-button').addEventListener('click', function() {
    const keyword = document.getElementById('search-input').value.toLowerCase();
    const tableBody = document.querySelector('#data-table tbody');
    tableBody.innerHTML = '';

    fetch('Brazil 1.json') // Change 'data.json' to the path of your JSON file
      .then(response => response.json())
      .then(data => {
        data.EcuadorData.forEach(item => {
          if (item.category.toLowerCase().includes(keyword)) {
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${item.category}</td>
              <td>${item.description}</td>
              <td>${item.year}</td>
              <td>${item.data || ''}</td>
            `;
            tableBody.appendChild(row);
          }
        });
      })
      .catch(error => console.error('Error fetching data: ', error));
  });
</script>
</body>
</html>